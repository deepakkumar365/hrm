# OT Two-Tier Approval Workflow - Visual Reference Guide

## ğŸ¯ Complete Visual Workflow

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    OT TWO-TIER APPROVAL WORKFLOW                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: EMPLOYEE MARKS OT                                                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ Where: Attendance > Mark OT Attendance                                      â”‚
â”‚ Status: DRAFT                                                              â”‚
â”‚                                                                             â”‚
â”‚ System Creates:                                                            â”‚
â”‚   â€¢ OTAttendance (status: Draft, employee_id, ot_hours, etc.)             â”‚
â”‚                                                                             â”‚
â”‚ Database State:                                                            â”‚
â”‚   OTAttendance.status = "Draft"                                           â”‚
â”‚   OTAttendance.employee_id = John (Employee)                              â”‚
â”‚   OTAttendance.ot_hours = 2.0                                             â”‚
â”‚   OTAttendance.ot_date = 2024-01-15                                       â”‚
â”‚   OTAttendance.ot_type_id = 1 (General OT)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: HR MANAGER SUBMITS TO MANAGER                                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ Where: OT Management > OT Attendance > Submit to Manager                   â”‚
â”‚ Who: HR Manager (Lisa)                                                    â”‚
â”‚ Status: SUBMITTED                                                         â”‚
â”‚                                                                             â”‚
â”‚ System Creates:                                                            â”‚
â”‚   â€¢ OTRequest (status: pending_manager)                                    â”‚
â”‚   â€¢ OTApproval Level 1 (approver: Manager Sarah)                          â”‚
â”‚   â€¢ Updates OTAttendance (status: Submitted)                              â”‚
â”‚                                                                             â”‚
â”‚ Database State:                                                            â”‚
â”‚   OTAttendance.status = "Submitted"                                       â”‚
â”‚   OTRequest.id = 101                                                      â”‚
â”‚   OTRequest.status = "pending_manager"                                    â”‚
â”‚   OTRequest.employee_id = John                                            â”‚
â”‚   OTApproval[L1].ot_request_id = 101                                      â”‚
â”‚   OTApproval[L1].approver_id = Sarah.user_id                              â”‚
â”‚   OTApproval[L1].approval_level = 1                                       â”‚
â”‚   OTApproval[L1].status = "pending_manager"                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                                 â”‚
         â†“ MANAGER APPROVES                    â†“ MANAGER REJECTS
         â”‚                                     â”‚
         â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                                                â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚  â”‚ STEP 3A: MANAGER APPROVES                             â”‚   â”‚
         â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
         â”‚  â”‚ Where: OT Management > Manager Approval Dashboard    â”‚   â”‚
         â”‚  â”‚ Who: Manager (Sarah)                                 â”‚   â”‚
         â”‚  â”‚ Status: MANAGER APPROVED                             â”‚   â”‚
         â”‚  â”‚                                                       â”‚   â”‚
         â”‚  â”‚ System Updates:                                       â”‚   â”‚
         â”‚  â”‚   â€¢ OTApproval L1 (status: manager_approved)         â”‚   â”‚
         â”‚  â”‚   â€¢ OTRequest (status: manager_approved)             â”‚   â”‚
         â”‚  â”‚   â€¢ Creates OTApproval Level 2 (for HR Manager)      â”‚   â”‚
         â”‚  â”‚                                                       â”‚   â”‚
         â”‚  â”‚ Database State:                                       â”‚   â”‚
         â”‚  â”‚   OTApproval[L1].status = "manager_approved"         â”‚   â”‚
         â”‚  â”‚   OTRequest.status = "manager_approved"              â”‚   â”‚
         â”‚  â”‚   OTApproval[L2].ot_request_id = 101                â”‚   â”‚
         â”‚  â”‚   OTApproval[L2].approver_id = Lisa.user_id         â”‚   â”‚
         â”‚  â”‚   OTApproval[L2].approval_level = 2                 â”‚   â”‚
         â”‚  â”‚   OTApproval[L2].status = "pending_hr"              â”‚   â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â”‚                      â†“                                         â”‚
         â”‚                                                                â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
         â”‚  â”‚ STEP 3B: MANAGER REJECTS                              â”‚   â”‚
         â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
         â”‚  â”‚ Where: OT Management > Manager Approval Dashboard    â”‚   â”‚
         â”‚  â”‚ Who: Manager (Sarah)                                 â”‚   â”‚
         â”‚  â”‚ Status: MANAGER REJECTED                             â”‚   â”‚
         â”‚  â”‚                                                       â”‚   â”‚
         â”‚  â”‚ System Updates:                                       â”‚   â”‚
         â”‚  â”‚   â€¢ OTApproval L1 (status: manager_rejected)         â”‚   â”‚
         â”‚  â”‚   â€¢ OTRequest (status: manager_rejected)             â”‚   â”‚
         â”‚  â”‚   â€¢ OTAttendance (status: Draft) â† RESET!            â”‚   â”‚
         â”‚  â”‚                                                       â”‚   â”‚
         â”‚  â”‚ Database State:                                       â”‚   â”‚
         â”‚  â”‚   OTApproval[L1].status = "manager_rejected"         â”‚   â”‚
         â”‚  â”‚   OTRequest.status = "manager_rejected"              â”‚   â”‚
         â”‚  â”‚   OTAttendance.status = "Draft"                      â”‚   â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â”‚                      â†“                                         â”‚
         â”‚                   BACK TO EMPLOYEE                              â”‚
         â”‚              (Employee re-marks OT)                             â”‚
         â”‚                                                                â”‚
         â”‚                        WAIT FOR                                â”‚
         â”‚                   RE-SUBMISSION...                             â”‚
         â”‚                        THEN                                    â”‚
         â”‚                    BACK TO STEP 2                              â”‚
         â”‚                                                                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                                â”‚
         â†“ HR MANAGER APPROVES            â†“ HR MANAGER REJECTS
         â”‚                                â”‚
         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  â”‚                                             â”‚
         â”‚  â”‚ STEP 4A: HR MANAGER APPROVES               â”‚
         â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
         â”‚  â”‚ Where: OT Management > Approval Dashboard  â”‚
         â”‚  â”‚ Who: HR Manager (Lisa)                     â”‚
         â”‚  â”‚ Status: HR APPROVED (FINAL âœ“)              â”‚
         â”‚  â”‚                                             â”‚
         â”‚  â”‚ System Updates:                             â”‚
         â”‚  â”‚   â€¢ OTApproval L2 (status: hr_approved)    â”‚
         â”‚  â”‚   â€¢ OTRequest (status: hr_approved)        â”‚
         â”‚  â”‚   â€¢ OTRequest.approved_at = NOW            â”‚
         â”‚  â”‚   â€¢ âœ“ READY FOR PAYROLL                    â”‚
         â”‚  â”‚                                             â”‚
         â”‚  â”‚ Database State:                             â”‚
         â”‚  â”‚   OTApproval[L2].status = "hr_approved"    â”‚
         â”‚  â”‚   OTRequest.status = "hr_approved"         â”‚
         â”‚  â”‚   OTRequest.approved_at = 2024-01-16 10:30 â”‚
         â”‚  â”‚   OTRequest.approver_id = Lisa.user_id     â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â†“
         â”‚                 âœ“ PAYROLL READY
         â”‚
         â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  â”‚                                              â”‚
         â”‚  â”‚ STEP 4B: HR MANAGER REJECTS                 â”‚
         â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
         â”‚  â”‚ Where: OT Management > Approval Dashboard   â”‚
         â”‚  â”‚ Who: HR Manager (Lisa)                      â”‚
         â”‚  â”‚ Status: HR REJECTED                         â”‚
         â”‚  â”‚                                              â”‚
         â”‚  â”‚ System Updates:                              â”‚
         â”‚  â”‚   â€¢ OTApproval L2 (status: hr_rejected)     â”‚
         â”‚  â”‚   â€¢ OTRequest (status: hr_rejected)         â”‚
         â”‚  â”‚   â€¢ OTApproval L1 (status: pending_manager) â”‚
         â”‚  â”‚     â† RESET FOR MANAGER TO RE-REVIEW       â”‚
         â”‚  â”‚                                              â”‚
         â”‚  â”‚ Database State:                              â”‚
         â”‚  â”‚   OTApproval[L2].status = "hr_rejected"     â”‚
         â”‚  â”‚   OTRequest.status = "hr_rejected"          â”‚
         â”‚  â”‚   OTApproval[L1].status = "pending_manager" â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â†“
         â”‚          BACK TO MANAGER FOR RE-REVIEW
         â”‚                      â”‚
         â”‚          Manager can:
         â”‚            â€¢ Modify hours and re-approve
         â”‚            â€¢ Reject again
         â”‚            â€¢ Add comment on why HR rejected
         â”‚                      â”‚
         â”‚                  WAIT...
         â”‚                      â”‚
         â”‚              BACK TO STEP 3
         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: PAYROLL CALCULATION                                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚ Where: OT Management > OT Payroll Summary                                  â”‚
â”‚ Who: HR Manager or Payroll Officer                                         â”‚
â”‚                                                                              â”‚
â”‚ System Shows:                                                              â”‚
â”‚   â€¢ Only OT with status = "hr_approved"                                   â”‚
â”‚   â€¢ Calculation: Hours Ã— Hourly_Rate Ã— OT_Multiplier = Amount            â”‚
â”‚                                                                              â”‚
â”‚ Example:                                                                   â”‚
â”‚   John's OT:                                                               â”‚
â”‚     â€¢ Hours: 2.0                                                          â”‚
â”‚     â€¢ Hourly Rate: $15/hour                                               â”‚
â”‚     â€¢ OT Type: General (1.5x multiplier)                                  â”‚
â”‚     â€¢ Amount: 2.0 Ã— $15 Ã— 1.5 = $45                                       â”‚
â”‚                                                                              â”‚
â”‚ Payroll Summary Shows:                                                     â”‚
â”‚   General OT:     2.0 hours     $45                                        â”‚
â”‚   Weekend OT:     0.0 hours     $0                                         â”‚
â”‚   Holiday OT:     0.0 hours     $0                                         â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚   TOTAL:          2.0 hours     $45 âœ“                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                    âœ“ OT INCLUDED IN SALARY
```

---

## ğŸ“Š Status Matrix

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           STATUS TRANSITION MATRIX                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OTAttendance Status:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Current       â”‚ Next State(s)                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Draft         â”‚ â†’ Submitted (when HR submits to manager)                     â”‚
â”‚ Submitted     â”‚ â†’ Draft (if manager rejects)                                â”‚
â”‚               â”‚ â†’ (stays Submitted until manager acts)                      â”‚
â”‚ Rejected      â”‚ â†’ Not used for OTAttendance (use manager_rejected in Request)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OTRequest Status:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Current          â”‚ Next State(s)                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pending_manager  â”‚ â†’ manager_approved (when manager approves)               â”‚
â”‚                  â”‚ â†’ manager_rejected (when manager rejects)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ manager_approved â”‚ â†’ hr_approved (when HR approves) â† FINAL!               â”‚
â”‚                  â”‚ â†’ hr_rejected (when HR rejects)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ manager_rejected â”‚ â†’ (End state - back to Draft for employee to re-mark)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ hr_rejected      â”‚ â†’ pending_manager (reset for manager to re-review)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ hr_approved      â”‚ â†’ (Final state - Ready for Payroll) âœ“                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OTApproval[L1] Status (Manager Level):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Current              â”‚ Next State(s)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pending_manager      â”‚ â†’ manager_approved (when manager approves)         â”‚
â”‚                      â”‚ â†’ manager_rejected (when manager rejects)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ manager_approved     â”‚ â†’ (Waits for L2 to complete)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ manager_rejected     â”‚ â†’ (End state - back to employee)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pending_manager (2)  â”‚ â†’ manager_approved (when manager approves again)   â”‚
â”‚ (After HR rejected)  â”‚ â†’ manager_rejected (when manager rejects again)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OTApproval[L2] Status (HR Manager Level):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Current              â”‚ Next State(s)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ pending_hr           â”‚ â†’ hr_approved (when HR approves) â† FINAL!          â”‚
â”‚                      â”‚ â†’ hr_rejected (when HR rejects)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ hr_approved          â”‚ â†’ (Final state - Ready for Payroll) âœ“              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ hr_rejected          â”‚ â†’ (Resets L1 to pending_manager)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‘¥ Role Action Matrix

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      ROLE ACTION MATRIX - WHO CAN DO WHAT                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EMPLOYEE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ CAN:                           â”‚ âœ— CANNOT:                              â”‚
â”‚ â€¢ Mark OT (Draft)                â”‚ â€¢ See approval dashboard               â”‚
â”‚ â€¢ Edit OT (Draft only)           â”‚ â€¢ Approve/reject OT                    â”‚
â”‚ â€¢ Delete OT (Draft only)         â”‚ â€¢ Modify other's OT                    â”‚
â”‚ â€¢ View own OT status             â”‚ â€¢ Access OT Management section         â”‚
â”‚ â€¢ Read rejection feedback        â”‚ â€¢ See payroll calculations             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MANAGER:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ CAN:                           â”‚ âœ— CANNOT:                              â”‚
â”‚ â€¢ View team's pending OT         â”‚ â€¢ Approve to Payroll (needs HR)        â”‚
â”‚ â€¢ Approve OT (L1)                â”‚ â€¢ See OT from other teams              â”‚
â”‚ â€¢ Reject OT (L1)                 â”‚ â€¢ Skip HR approval                     â”‚
â”‚ â€¢ Modify hours                   â”‚ â€¢ Access OT from other companies       â”‚
â”‚ â€¢ Add approval comments          â”‚ â€¢ Delete OT records                    â”‚
â”‚ â€¢ See rejection from HR (L2)     â”‚ â€¢ View payroll calculations            â”‚
â”‚ â€¢ Resubmit after HR rejection    â”‚ â€¢ Approve without full details review  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

HR MANAGER:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ CAN:                           â”‚ âœ— CANNOT:                              â”‚
â”‚ â€¢ Submit OT to Manager (START)   â”‚ â€¢ Approve without Manager approval     â”‚
â”‚ â€¢ View all Draft OT              â”‚ â€¢ Bypass two-tier system               â”‚
â”‚ â€¢ Submit to Manager              â”‚ â€¢ Delegate approval authority          â”‚
â”‚ â€¢ View Manager-Approved OT       â”‚ â€¢ Modify OT after hr_approved          â”‚
â”‚ â€¢ Approve OT (L2) â† FINAL        â”‚ â€¢ Create OT records manually           â”‚
â”‚ â€¢ Reject OT (L2)                 â”‚ â€¢ Override manager decisions           â”‚
â”‚ â€¢ Modify hours                   â”‚ â€¢ Access other company OT              â”‚
â”‚ â€¢ View Payroll Summary           â”‚ â€¢ Calculate payroll directly           â”‚
â”‚ â€¢ Generate OT reports            â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SUPER ADMIN:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ CAN:                           â”‚ âœ— CANNOT:                              â”‚
â”‚ â€¢ All of HR Manager + more       â”‚ â€¢ Technically: Nothing! (but may not   â”‚
â”‚ â€¢ View all companies' OT         â”‚   want to bypass audit trail)          â”‚
â”‚ â€¢ Override any approval          â”‚                                        â”‚
â”‚ â€¢ Access all OT data             â”‚                                        â”‚
â”‚ â€¢ Generate system reports        â”‚                                        â”‚
â”‚ â€¢ Manage OT types & settings     â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Rejection Loop Visual

```
MANAGER REJECTS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MANAGER APPROVES                                            â”‚
â”‚ OTApproval[L1] = manager_approved                          â”‚
â”‚ â†“                                                           â”‚
â”‚ Creates OTApproval[L2] = pending_hr                        â”‚
â”‚ â†“                                                           â”‚
â”‚ Visible to HR Manager                                      â”‚
â”‚ Waiting for HR final decision                              â”‚
â”‚ (HR can approve or reject)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚
        â†“ HR APPROVES         â†“ HR REJECTS
        â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                â”‚    â”‚                         â”‚
â”‚ âœ“ FINAL        â”‚    â”‚ OTApproval[L2].status = â”‚
â”‚ hr_approved    â”‚    â”‚ "hr_rejected"           â”‚
â”‚                â”‚    â”‚                         â”‚
â”‚ PAYROLL        â”‚    â”‚ OTApproval[L1].status = â”‚
â”‚ READY! âœ“       â”‚    â”‚ "pending_manager" â†â”€ RESET!
â”‚                â”‚    â”‚                         â”‚
â”‚                â”‚    â”‚ Manager can:            â”‚
â”‚                â”‚    â”‚ â€¢ Re-approve            â”‚
â”‚                â”‚    â”‚ â€¢ Re-reject             â”‚
â”‚                â”‚    â”‚ â€¢ Modify hours          â”‚
â”‚                â”‚    â”‚ â€¢ Add comments          â”‚
â”‚                â”‚    â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ Back to Manager...      â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


MANAGER REJECTS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OTApproval[L1] = manager_rejected                          â”‚
â”‚ â†“                                                           â”‚
â”‚ OTAttendance.status = "Draft" â† RESET!                    â”‚
â”‚ â†“                                                           â”‚
â”‚ Employee sees OT back in Draft                             â”‚
â”‚ â†“                                                           â”‚
â”‚ Employee can:                                              â”‚
â”‚ â€¢ Edit OT details                                          â”‚
â”‚ â€¢ Modify hours                                             â”‚
â”‚ â€¢ Edit notes                                               â”‚
â”‚ â€¢ Re-submit                                                â”‚
â”‚ â†“                                                           â”‚
â”‚ Back to STEP 1 (Employee marks OT)                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Timeline Example

```
Mon, Jan 15, 2024:
  â”œâ”€ 16:30 â†’ John marks OT (2 hours)
  â”‚          OTAttendance.status = Draft
  â””â”€ End of day

Tue, Jan 16, 2024:
  â”œâ”€ 09:00 â†’ Lisa (HR) submits to Manager
  â”‚          OTRequest.status = pending_manager
  â”‚          OTApproval[L1] created
  â”‚
  â”œâ”€ 10:15 â†’ Sarah (Manager) approves
  â”‚          OTApproval[L1] = manager_approved
  â”‚          OTApproval[L2] created = pending_hr
  â”‚          Lisa notified
  â”‚
  â”œâ”€ 10:30 â†’ Lisa (HR) reviews & approves
  â”‚          OTApproval[L2] = hr_approved âœ“
  â”‚          OTRequest.status = hr_approved
  â”‚          OTRequest.approved_at = 10:30
  â”‚
  â”œâ”€ 10:31 â†’ Payroll Summary includes John's OT
  â”‚          2.0 hours Ã— $15 Ã— 1.5 = $45 âœ“
  â”‚
  â””â”€ 11:00 â†’ Payroll finalized, ready for salary processing

Timeline: From marking to payroll = ~18 hours (1 business day)
```

---

## ğŸ¯ Key Takeaways

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. TWO APPROVALS REQUIRED                                  â”‚
â”‚    Manager (L1) + HR Manager (L2) = Must both approve     â”‚
â”‚                                                             â”‚
â”‚ 2. MANAGER ASSIGNMENT CRITICAL                             â”‚
â”‚    Employee.manager_id must be set                         â”‚
â”‚    Manager must have is_manager=True & User account        â”‚
â”‚                                                             â”‚
â”‚ 3. REJECTIONS LOOP BACK                                    â”‚
â”‚    Manager rejects â†’ Employee re-marks                    â”‚
â”‚    HR rejects â†’ Manager re-reviews                        â”‚
â”‚                                                             â”‚
â”‚ 4. ONLY hr_approved GOES TO PAYROLL                        â”‚
â”‚    OTRequest.status must equal "hr_approved"              â”‚
â”‚                                                             â”‚
â”‚ 5. AUDIT TRAIL PRESERVED                                   â”‚
â”‚    Each approval level documented                          â”‚
â”‚    Comments from each level retained                       â”‚
â”‚    Rejection reasons captured                              â”‚
â”‚                                                             â”‚
â”‚ 6. COMPANY ISOLATION MAINTAINED                            â”‚
â”‚    Users can't see other company OT                       â”‚
â”‚    All queries filter by company_id                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*This visual guide is for reference during implementation and troubleshooting.*
*For detailed technical information, see OT_TWO_TIER_APPROVAL_WORKFLOW.md*